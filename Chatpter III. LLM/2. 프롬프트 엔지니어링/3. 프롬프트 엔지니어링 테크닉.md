# 3. 프롬프트 엔지니어링 테크닉 📑

### 1. 프롬프트 엔지니어링 개요
- [1.1 프롬프트 디자인](#프롬프트-디자인-) ✍️
- [1.2 대규모 언어모델과 정렬](#대규모-언어모델과-정렬-) 🧠

### 2. 프롬프트 테크닉
- [2.1 프롬프트 엔지니어링 원칙](#프롬프트-엔지니어링-원칙-) 🛠️
- [2.2 Few-shot 프롬프팅](#few-shot-프롬프팅-) 🎯
- [2.3 Chain-of-Thought](#chain-of-thought-) 🧩

### 3. ChatGPT 에이전트 활용
- [3.1 에이전트 개념과 구조](#에이전트-개념과-구조-) 🤖
- [3.2 ReAct 프롬프트](#react-프롬프트-) 🔄
- [3.3 AgentGPT 및 자동화](#agentgpt-및-자동화-) ⚙️

---

## 프롬프트 디자인 ✍️

### 설명

**프롬프트 디자인**은 **생성형 언어모델**에게 원하는 답변을 얻기 위해 입력 문장을 설계하는 과정이다. 대화형 AI의 성능은 프롬프트의 명확성, 구체성, 다양성에 크게 의존한다. 프롬프트는 단순한 질문부터 복잡한 지시문까지 다양하게 구성할 수 있으며, 모델이 학습한 **지식**, **문법**, **문화적 맥락**, **추론 능력**을 활용하여 자연스러운 응답을 생성한다.

### 예시

```python
# 새로운 예시: 영화 추천 프롬프트
prompt = "최근 개봉한 액션 영화를 3편 추천해주고, 각 영화의 간단한 줄거리를 알려줘."
```

### 주의사항

- **프롬프트가 모호하면** 모델의 응답도 불명확해질 수 있다.
- **구체적인 지시사항**을 포함할수록 원하는 결과를 얻기 쉽다.

---

## 대규모 언어모델과 정렬 🧠

### 설명

**대규모 언어모델(Large Language Models, LLM)** 은 방대한 텍스트 데이터를 기반으로 학습하여, 자연스러운 문장 생성과 다양한 언어 작업을 수행한다. 대표적으로 **GPT-4.1**, **Gemini 2.5**, **Claude 4** 등이 있다.  
**언어모델 정렬(Alignment)** 은 모델이 인간의 의도에 맞는 결과를 내도록 조정하는 과정이다. 일반적인 언어모델은 웹상의 텍스트로 학습되어 자연스러운 대화보다는 문장 완성에 초점이 맞춰져 있다. 정렬을 통해 인간의 피드백을 반영한 대화형 모델(예: ChatGPT, Gemini 등)이 등장하였다.


### 주의사항

- **정렬되지 않은 모델**은 사용자의 의도와 다르게 응답할 수 있다.
- **대화형 모델**은 인간의 피드백을 통해 지속적으로 개선된다.

---

## 프롬프트 엔지니어링 원칙 🛠️

### 설명

효과적인 **프롬프트 엔지니어링**을 위해서는 명확하고 구체적인 지시, 다양한 예시, 모델의 특성(주로 영어 학습, 학습 패턴 등) 활용이 중요하다.  
프롬프트 설계 시 **명확성**, **구체성**, **다양성**을 고려해야 하며, 원하는 응답의 **형식**과 **내용**을 명시적으로 지정하는 것이 바람직하다.

### 예시

```python
# 새로운 예시: 응답 형식 명시
prompt = """
다음 정보를 표로 정리해줘.
이름: 김지훈
직업: 데이터 분석가
이메일: jihoon.kim@example.com

응답 형식: | 항목 | 내용 |
"""
```

### 주의사항

- **응답 형식**이나 **말투**를 명확히 지정하지 않으면 모델이 임의로 응답할 수 있다.
- **구체적인 예시**를 포함하면 모델의 일관성이 높아진다.

---

## Few-shot 프롬프팅 🎯

### 설명

**Few-shot 프롬프팅**은 모델에게 여러 개의 예시(샷)를 제공하여, 새로운 입력에 대해 유사한 방식으로 응답하도록 유도하는 기법이다.  
예시의 개수에 따라 **zero-shot**, **one-shot**, **few-shot** 등으로 구분한다.  
Few-shot 프롬프팅은 명시적으로 패턴을 제시함으로써 모델이 문맥 내에서 학습한 규칙을 적용하도록 돕는다.

### 예시

```python
# 새로운 예시: 한-영 번역 few-shot 프롬프트
prompt = """
한국어를 영어로 번역해줘.
고양이 => Cat
강아지 => Dog
자동차 => Car
학교 => School
책 => Book
새로운 예시
의자 =>
"""
# 모델 예상 응답: Chair
```

### 주의사항

- **예시의 품질**과 **다양성**이 결과에 큰 영향을 미친다.
- **입력 길이 제한(Token Limit)** 으로 인해 너무 많은 예시를 포함하면 모델 입력이 잘릴 수 있다.
- 잘못된 예시나 과도한 패턴 반복은 성능 저하를 유발할 수 있다.

---

## Chain-of-Thought 🧩

### 설명

**Chain-of-Thought(CoT)** 는 모델이 복잡한 추론 문제를 단계별로 해결하도록 유도하는 프롬프트 기법이다.  
CoT는 **풀이 과정을 명시**하게 하여, 모델이 중간 단계의 논리적 사고를 거쳐 최종 답에 도달하도록 한다.  
이는 Kahneman의 **System 2(느린 사고)** 와 유사하게, 신중하고 논리적인 판단을 강조한다.
"reasoning" "think" 등이 붙은 추론 모델의 경우 이러한 CoT 기법을 기본적으로 실행한다.

### 예시

```python
# 새로운 예시: 추론 모델에게 프롬프트 작성
{user}: "sqrt(2)가 유리수가 아닌 이유를 설명해줘."
{assistant}: "<think>sqrt(2)는 유리수가 아닌데, 그 이유는 다음과 같아. 유리수는 두 정수의 비로 표현할 수 있는 수인데, sqrt(2)는 무리수로, 소수점 아래가 무한히 계속되고 반복되지 않아. 이를 증명하기 위해, sqrt(2)가 유리수라고 가정하고 모순을 찾아보자.

가정: sqrt(2) = a/b (a, b는 서로소인 정수)

제곱하면: 2 = a^2/b^2
양변에 b^2를 곱하면: 2b^2 = a^2
a^2는 짝수이므로, a도 짝수이다. a = 2k (k는 정수)

b^2는 홀수이므로, b도 홀수이다. b = 2m + 1 (m은 정수)

모순: a는 짝수, b는 홀수이므로, sqrt(2)는 유리수가 아니다.
</think>

sqrt(2)가 유리수가 아닌 이유는, 두 정수의 비로 표현할 수 없기 때문이야. 이를 증명하기 위해, sqrt(2)가 유리수라고 가정하고 모순을 찾아보자.

가정: sqrt(2) = a/b (a, b는 서로소인 정수)

제곱하면: 2 = a^2/b^2
양변에 b^2를 곱하면: 2b^2 = a^2
a^2는 짝수이므로, a도 짝수이다. a = 2k (k는 정수)

b^2는 홀수이므로, b도 홀수이다. b = 2m + 1 (m은 정수)

모순: a는 짝수, b는 홀수이므로, sqrt(2)는 유리수가 아니다.

이러한 방법을 귀류법(Proof by Contradiction)이라고 해. 귀류법에 대해 궁금한 점이 더 있으면 언제든지 물어봐!"
```

### 주의사항

- **풀이 과정**을 명확하게 요구하지 않으면 모델이 바로 답만 제시할 수 있다.
- **트리거 문구**(예: "차근차근 생각해봅시다")를 활용하면 단계별 응답을 유도할 수 있다.

---

## 에이전트 개념과 구조 🤖

### 설명

**에이전트 언어모델**은 단순히 텍스트를 생성하는 것을 넘어, **신념**, **목표**, **의도**를 갖고 환경과 상호작용하는 구조로 설계된다.  
에이전트는 **관찰(Observation)**, **사고(Thought)**, **행동(Action)** 의 반복을 통해 문제를 해결한다.  
대표적으로 **ReAct** 구조와 **AgentGPT**와 같은 자동화 에이전트가 있다.


### 주의사항

- **에이전트 구조**는 복잡한 문제 해결에 적합하지만, 설계가 복잡해질 수 있다.
- **행동과 사고의 순서**를 명확히 구분해야 한다.

---

## ReAct 프롬프트 🔄

### 설명

**ReAct**는 **Reasoning + Acting**의 약자로, 모델이 사고와 행동을 번갈아 수행하며 외부 도구(검색, 계산 등)와 상호작용하는 프롬프트 구조이다.  
질문에 대해 **생각(Thought)** → **행동(Action)** → **관찰(Observation)** 을 반복하며, 최종적으로 답을 도출한다.

### 예시

```python
# 새로운 예시: ReAct 프롬프트
질문: "서울의 오늘 날씨와 내일 최고 기온을 알려줘."
생각1: "오늘과 내일의 날씨 정보를 확인해야 한다."
행동1: "[서울 날씨] 검색"
관찰1: "오늘은 맑고 22도, 내일은 흐리고 25도"
생각2: "정보를 요약해서 전달해야겠다."
답변: "오늘 서울은 맑고 22도, 내일은 흐리고 최고 기온은 25도입니다."
```

### 주의사항

- **행동 단계**에서 실제 외부 도구와 연동이 필요할 수 있다.
- **관찰 결과**를 바탕으로 다음 사고 단계가 이어져야 한다.

---

## AgentGPT 및 자동화 ⚙️

### 설명

**AgentGPT**는 사용자의 목표를 입력받아, 일련의 작업(Task)을 자동으로 계획하고 실행하는 **자동화 에이전트**이다.  
각 작업은 세부 단계로 분해되어, 정보 수집, 일정 관리, 보고서 작성 등 다양한 업무를 수행할 수 있다.

### 예시

```python
# 새로운 예시: 여행 계획 자동화 에이전트
목표: "3박 4일간 제주도 여행 일정을 짜줘."
작업1: "항공권 검색 및 예약"
작업2: "숙소 추천 및 예약"
작업3: "관광지별 일정 배분"
작업4: "맛집 리스트 작성"
작업5: "예상 경비 산출"
```

### 주의사항

- **자동화 에이전트**는 복잡한 목표를 세분화하여 처리하지만, 각 단계의 정확성은 외부 정보에 의존할 수 있다.
- **API 연동**이나 **외부 서비스 사용** 시 보안에 유의해야 한다.