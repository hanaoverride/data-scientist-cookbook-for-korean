# 2. ìŠ¤íƒê³¼ í: ìˆœì„œê°€ ì¤‘ìš”í•œ ìë£Œêµ¬ì¡° ğŸ“š

## ëª©ì°¨
- [2. ìŠ¤íƒê³¼ í: ìˆœì„œê°€ ì¤‘ìš”í•œ ìë£Œêµ¬ì¡° ğŸ“š](#2-ìŠ¤íƒê³¼-í-ìˆœì„œê°€-ì¤‘ìš”í•œ-ìë£Œêµ¬ì¡°-)
  - [ëª©ì°¨](#ëª©ì°¨)
  - [ìŠ¤íƒ (Stack): ë§ˆì§€ë§‰ì— ì˜¨ ê²ƒì´ ë¨¼ì € ë‚˜ê°„ë‹¤ (LIFO)](#ìŠ¤íƒ-stack-ë§ˆì§€ë§‰ì—-ì˜¨-ê²ƒì´-ë¨¼ì €-ë‚˜ê°„ë‹¤-lifo)
  - [í (Queue): ë¨¼ì € ì˜¨ ê²ƒì´ ë¨¼ì € ë‚˜ê°„ë‹¤ (FIFO)](#í-queue-ë¨¼ì €-ì˜¨-ê²ƒì´-ë¨¼ì €-ë‚˜ê°„ë‹¤-fifo)
  - [íŒŒì´ì¬ì—ì„œì˜ êµ¬í˜„: `collections.deque`](#íŒŒì´ì¬ì—ì„œì˜-êµ¬í˜„-collectionsdeque)
  - [ë¬¸ì œ í•´ê²°ì„ í†µí•œ í™œìš©](#ë¬¸ì œ-í•´ê²°ì„-í†µí•œ-í™œìš©)
    - [ìŠ¤íƒ í™œìš© ì˜ˆì‹œ: ì˜¬ë°”ë¥¸ ê´„í˜¸ íŒë‹¨í•˜ê¸°](#ìŠ¤íƒ-í™œìš©-ì˜ˆì‹œ-ì˜¬ë°”ë¥¸-ê´„í˜¸-íŒë‹¨í•˜ê¸°)
    - [í í™œìš© ì˜ˆì‹œ: ìš”ì„¸í‘¸ìŠ¤ ë¬¸ì œ](#í-í™œìš©-ì˜ˆì‹œ-ìš”ì„¸í‘¸ìŠ¤-ë¬¸ì œ)

---

ìŠ¤íƒê³¼ íëŠ” ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ì„ ë„˜ì–´, **ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ìˆœì„œ**ë¥¼ ì œì–´í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì¤‘ìš”í•œ ì„ í˜• ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤. ì´ ë‘˜ì€ ì¶”ìƒì  ìë£Œí˜•(ADT)ì˜ ëŒ€í‘œì ì¸ ì˜ˆì‹œë¡œ, 'ì–´ë–»ê²Œ' êµ¬í˜„í•˜ëŠ”ì§€ë³´ë‹¤ 'ì–´ë–¤ ê·œì¹™'ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ê°€ ë” ì¤‘ìš”í•©ë‹ˆë‹¤.

## ìŠ¤íƒ (Stack): ë§ˆì§€ë§‰ì— ì˜¨ ê²ƒì´ ë¨¼ì € ë‚˜ê°„ë‹¤ (LIFO)

**ìŠ¤íƒ**ì€ ë°ì´í„°ì˜ ì…êµ¬ì™€ ì¶œêµ¬ê°€ í•˜ë‚˜ì¸ ìë£Œêµ¬ì¡°ë¡œ, ê°€ì¥ ë§ˆì§€ë§‰ì— ë“¤ì–´ì˜¨(Last-In) ë°ì´í„°ê°€ ê°€ì¥ ë¨¼ì € ë‚˜ê°€ëŠ”(First-Out) **LIFO** ì›ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤. ë§ˆì¹˜ ì ‘ì‹œë¥¼ ìŒ“ì•„ ì˜¬ë¦¬ê³ , ë§¨ ìœ„(Top)ì˜ ì ‘ì‹œë¶€í„° ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤.

- **`push`**: ìŠ¤íƒì˜ ë§¨ ìœ„ì— ë°ì´í„°ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
- **`pop`**: ìŠ¤íƒì˜ ë§¨ ìœ„ì—ì„œ ë°ì´í„°ë¥¼ ì œê±°í•˜ê³  ë°˜í™˜í•©ë‹ˆë‹¤.

```mermaid
graph TD
    subgraph "ìŠ¤íƒ (LIFO)"
        direction LR
        Input[ë°ì´í„° ì…ë ¥/Push] --> Top
        Top[Top] --> S1[ë°ì´í„° 3]
        S1 --> S2[ë°ì´í„° 2]
        S2 --> S3[ë°ì´í„° 1]
        Top --> Output[ë°ì´í„° ì¶œë ¥/Pop]
    end
```

- **ì£¼ìš” í™œìš©ì²˜**:
    - ì›¹ ë¸Œë¼ìš°ì €ì˜ 'ë’¤ë¡œ ê°€ê¸°' ê¸°ëŠ¥
    - ì‹¤í–‰ ì·¨ì†Œ (Undo) ê¸°ëŠ¥
    - í•¨ìˆ˜ í˜¸ì¶œ ìŠ¤íƒ (Call Stack)
    - ì¬ê·€(Recursion) ì•Œê³ ë¦¬ì¦˜ì˜ ë™ì‘ ì›ë¦¬

## í (Queue): ë¨¼ì € ì˜¨ ê²ƒì´ ë¨¼ì € ë‚˜ê°„ë‹¤ (FIFO)

**í**ëŠ” ë°ì´í„°ì˜ ì…êµ¬(Rear)ì™€ ì¶œêµ¬(Front)ê°€ ì–‘ ëì— ë”°ë¡œ ìˆëŠ” ìë£Œêµ¬ì¡°ë¡œ, ê°€ì¥ ë¨¼ì € ë“¤ì–´ì˜¨(First-In) ë°ì´í„°ê°€ ê°€ì¥ ë¨¼ì € ë‚˜ê°€ëŠ”(First-Out) **FIFO** ì›ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤. ì€í–‰ ì°½êµ¬ì—ì„œ ì¤„ì„ ì„œì„œ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤.

- **`enqueue` (or `put`)** : íì˜ ë§¨ ë’¤(Rear)ì— ë°ì´í„°ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
- **`dequeue` (or `get`)** : íì˜ ë§¨ ì•(Front)ì—ì„œ ë°ì´í„°ë¥¼ ì œê±°í•˜ê³  ë°˜í™˜í•©ë‹ˆë‹¤.

```mermaid
graph TD
    subgraph "í (FIFO)"
        Input[ë°ì´í„° ì…ë ¥/Enqueue] --> Rear[Rear]
        R1[ë°ì´í„° 3] --> R2[ë°ì´í„° 2] --> R3[ë°ì´í„° 1]
        R3 --> Front[Front]
        Front --> Output[ë°ì´í„° ì¶œë ¥/Dequeue]
    end
```

- **ì£¼ìš” í™œìš©ì²˜**:
    - í”„ë¦°í„°ì˜ ì¸ì‡„ ì‘ì—… ëŒ€ê¸°ì—´
    - ë©”ì‹œì§€ í ì‹œìŠ¤í…œ (MOM)
    - ë„ˆë¹„ ìš°ì„  íƒìƒ‰ (BFS) ì•Œê³ ë¦¬ì¦˜
    - ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ëª¨ë“  ì‘ì—… (ì£¼ë¬¸ ì²˜ë¦¬, ê³ ê°ì„¼í„° ì½œ ë“±)

---

## íŒŒì´ì¬ì—ì„œì˜ êµ¬í˜„: `collections.deque`

íŒŒì´ì¬ì—ì„œ ìŠ¤íƒê³¼ íë¥¼ êµ¬í˜„í•  ë•Œ ê°€ì¥ íš¨ìœ¨ì ì´ê³  í‘œì¤€ì ì¸ ë°©ë²•ì€ `collections` ëª¨ë“ˆì˜ **`deque` (double-ended queue, 'ë±'ì´ë¼ê³  ì½ìŒ)** ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

> **âš ï¸ ì™œ `list`ë¥¼ ì“°ë©´ ì•ˆë˜ë‚˜ìš”?**
> íŒŒì´ì¬ `list`ë¡œ ìŠ¤íƒ(`append`, `pop`)ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì€ íš¨ìœ¨ì ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ íë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ `list.pop(0)`ë¥¼ ì‚¬ìš©í•˜ë©´, ë§¨ ì•ì˜ ì›ì†Œë¥¼ ì œê±°í•œ ë’¤ ëª¨ë“  ì›ì†Œë¥¼ í•œ ì¹¸ì”© ì•ìœ¼ë¡œ ë‹¹ê²¨ì•¼ í•˜ë¯€ë¡œ ë§¤ìš° ë¹„íš¨ìœ¨ì (O(n))ì…ë‹ˆë‹¤.
>
> `deque`ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì´ì¤‘ ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¡œ êµ¬í˜„ë˜ì–´, **ì–‘ìª½ ëì—ì„œì˜ ì¶”ê°€ì™€ ì œê±°ê°€ ëª¨ë‘ O(1)ì˜ ì‹œê°„ ë³µì¡ë„**ë¡œ ë§¤ìš° ë¹ ë¦…ë‹ˆë‹¤.

```python
from collections import deque

# ìŠ¤íƒìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° (ì˜¤ë¥¸ìª½ìœ¼ë¡œ push, ì˜¤ë¥¸ìª½ìœ¼ë¡œ pop)
stack = deque()
stack.append(1)  # Push
stack.append(2)
stack.append(3)
print(stack.pop()) # 3
print(stack.pop()) # 2

# íë¡œ ì‚¬ìš©í•˜ê¸° (ì˜¤ë¥¸ìª½ìœ¼ë¡œ enqueue, ì™¼ìª½ìœ¼ë¡œ dequeue)
queue = deque()
queue.append(1)  # Enqueue
queue.append(2)
queue.append(3)
print(queue.popleft()) # 1
print(queue.popleft()) # 2
```

---

## ë¬¸ì œ í•´ê²°ì„ í†µí•œ í™œìš©

### ìŠ¤íƒ í™œìš© ì˜ˆì‹œ: ì˜¬ë°”ë¥¸ ê´„í˜¸ íŒë‹¨í•˜ê¸°
ê´„í˜¸ ë¬¸ìì—´ `s`ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ê´„í˜¸ì˜ ì§ì´ ì˜¬ë°”ë¥´ê²Œ ë§ëŠ”ì§€ íŒë‹¨í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.

- **í•´ê²° ì „ëµ**:
    1. ì—¬ëŠ” ê´„í˜¸ `(`ë¥¼ ë§Œë‚˜ë©´ ìŠ¤íƒì— `push`í•©ë‹ˆë‹¤.
    2. ë‹«ëŠ” ê´„í˜¸ `)`ë¥¼ ë§Œë‚˜ë©´ ìŠ¤íƒì—ì„œ `pop`ì„ ì‹œë„í•©ë‹ˆë‹¤.
    3. ë§Œì•½ `pop`í•  ë•Œ ìŠ¤íƒì´ ë¹„ì–´ìˆë‹¤ë©´, ì§ì´ ë§ì§€ ì•ŠëŠ” ê²ƒì´ë¯€ë¡œ `False`ì…ë‹ˆë‹¤.
    4. ëª¨ë“  ë¬¸ìì—´ì„ ìˆœíšŒí•œ í›„, ìŠ¤íƒì´ ë¹„ì–´ìˆìœ¼ë©´ ì˜¬ë°”ë¥¸ ê´„í˜¸, ë¹„ì–´ìˆì§€ ì•Šìœ¼ë©´ ì§ì´ ë§ì§€ ì•ŠëŠ” ê²ƒì…ë‹ˆë‹¤.

```python
def is_valid_parentheses(s: str) -> bool:
    stack = deque()
    for char in s:
        if char == '(':
            stack.append(char)
        elif char == ')':
            if not stack: # ë‹«ëŠ” ê´„í˜¸ê°€ ë‚˜ì™”ëŠ”ë° ìŠ¤íƒì´ ë¹„ì–´ìˆìœ¼ë©´
                return False
            stack.pop()
    return len(stack) == 0 # ìµœì¢…ì ìœ¼ë¡œ ìŠ¤íƒì´ ë¹„ì–´ìˆì–´ì•¼ í•¨
```

### í í™œìš© ì˜ˆì‹œ: ìš”ì„¸í‘¸ìŠ¤ ë¬¸ì œ
Nëª…ì˜ ì‚¬ëŒì´ ì›ì„ ì´ë£¨ì–´ ì•‰ì•„ìˆê³ , Kë²ˆì§¸ ì‚¬ëŒì„ ê³„ì†í•´ì„œ ì œê±°í•´ ë‚˜ê°ˆ ë•Œ, ì œê±°ë˜ëŠ” ìˆœì„œë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.

- **í•´ê²° ì „ëµ**:
    1. 1ë¶€í„° Nê¹Œì§€ì˜ ì‚¬ëŒì„ íì— ë„£ìŠµë‹ˆë‹¤.
    2. íê°€ ë¹Œ ë•Œê¹Œì§€ ë‹¤ìŒì„ ë°˜ë³µí•©ë‹ˆë‹¤.
        a. ë§¨ ì•ì˜ ì‚¬ëŒì„ `K-1`ë²ˆ êº¼ë‚´ì„œ ë‹¤ì‹œ ë§¨ ë’¤ë¡œ ë„£ìŠµë‹ˆë‹¤. (`rotate` í™œìš©)
        b. ê·¸ ë‹¤ìŒ ì‚¬ëŒ(Kë²ˆì§¸)ì„ íì—ì„œ ì œê±°í•˜ê³ , ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.

```python
from collections import deque

def josephus(n: int, k: int) -> list[int]:
    queue = deque(range(1, n + 1))
    result = []
    while queue:
        # k-1 ë§Œí¼ ì™¼ìª½ìœ¼ë¡œ íšŒì „ (ë§¨ ì•ì˜ ì›ì†Œë¥¼ ë§¨ ë’¤ë¡œ ë³´ëƒ„)
        queue.rotate(-(k - 1))
        # kë²ˆì§¸ ì›ì†Œë¥¼ ì œê±°í•˜ì—¬ ê²°ê³¼ì— ì¶”ê°€
        result.append(queue.popleft())
    return result
```